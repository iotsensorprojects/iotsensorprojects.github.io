<html>
    <body>
        <button type="button" onclick="loadDoc(1)">Switch ON</button>
        <button type="button" onclick="loadDoc(100)">Switch Off</button>
<p id="demo"></p>

<script>
function loadDoc(x) {
  var xhttp = new XMLHttpRequest();
    var status="";
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        if(this.responseText=="0")
            status="unable to complete...plz try again";
        else
             status="Task completed";
        
      document.getElementById("demo").innerHTML = status;
        status="";
    }
  };
  if(x==1)
    xhttp.open("GET", "https://api.thingspeak.com/update?api_key=5VJ4QF97E1BR3EL0&field3=100", true);
  else
  xhttp.open("GET", "https://api.thingspeak.com/update?api_key=5VJ4QF97E1BR3EL0&field3=1", true);
  xhttp.send();
}
</script>

    </body>
</html>
